# ARLQ, another rogue-like quest game

ARLQ (Another Rogue-Like Quest)は、人間とChatGPTが共同でコードとマニュアルを作成した実験的なローグライクゲームです。

* コードは、ゲームの大まかな内容の記述をもとにChatGPTで生成し、人間が細部を調整・改善しました。
  * 迷路生成アルゴリズムやcursesライブラリの使い方など、コード生成以外の作業もChatGPTが担当しています。
  * タイプヒントやコメントもChatGPTによって生成されました。
  * 新しいモンスターのアイデアにもChatGPTが協力しています。
* マニュアルは、人間がドラフトを記述し、ChatGPTとともに加筆や校正を行いました。

![](screenshot.png)

## インストール方法

以下のコマンドを実行してください:

```bash
pipx install git+https://github.com/tos-kamiya/arlq
```

インストールが完了すると、`arlq` というコマンドが利用可能になります。

- オプション無しの場合は、pygameのウィンドウでゲームが実行されます。
- ゲームをより簡単にするオプションとして、`-T`（見える範囲が大きくなる）があります。
- ゲームをより難しくするオプションとして、`-F`（フィールドが大きくなる）`-t`（見える範囲が狭くなる）があります。
- `--curses` オプションを付けると、ターミナルでcursesを使ってゲームが実行されます。

オプション`--curses`を利用するには、別途、`curses`パッケージのインストールが必要です。

Ubuntu 24.04の場合

```bash
sudo apt install python3-curses
```

Windowsの場合

```bash
pip install windows-curses
```

## ゲームの説明

* **ゲームの目的**  
  本ゲームの目的は、毎回異なる通路を持つダンジョンを探索し、ドラゴンが隠す宝箱を見つけることです。

* **プレイヤー**  
  プレイヤーは「@」のキャラクターを操作し、矢印キーで上下左右に移動します。

* **モンスター**  
  ダンジョン内にはさまざまなモンスターがいます。  
  - 例：  
    - `a`：アメーバ。初めは倒しやすく、レベルアップに役立ちます。  
    - `b`：バイソン。倒すとたくさんの食料を得られます。  
  最初はモンスターは「?」や「!」で表示されます。接触すると種類（`a`, `b`, `c` など）が表示され、正体がわかります。

* **フォグシステム**  
  プレイヤーが歩いた場所だけが見えるフォグシステムを採用しており、オートマッピングと連動して、一度訪れた場所は常に見えるようになります。

* **戦闘**  
  プレイヤーがモンスターに接触すると戦闘が始まります。  
  - プレイヤーと同じかそれ以下のレベルのモンスターであれば倒すことができ、レベルが上がり、モンスターが持っているアイテムを入手できます。  
  - しかし、プレイヤーより高いレベルのモンスターに負けると、ダンジョン内のランダムな場所に再出現します。  
  モンスターは基本的に動かず、プレイヤーが近づくのを待っています。戦うか通り過ぎるかはプレイヤーの判断次第です。

* **レアタイプ**  
  一部のモンスターには、普通のものとは違う特別な特徴を持つレアタイプが存在します。  
  - 例：  
    - `A`（アメーバ・レア）：倒すと大きくレベルが上がります。  
    - `B`（バイソン・レア）：通常のバイソンよりも多くの食料を得られます。

* **食料システム**  
  プレイヤーは移動するたびに食料が減ります。  
  食料がゼロになると飢えでゲームオーバーになるため、こまめに食料を補給する必要があります。バイソン（`b`）を倒すと、たくさんの食料を手に入れることができます。

* **ゲームエンド**  
  宝箱（`T`）に接触するとゲームクリアとなります。ドラゴンが守る宝箱を確実に手に入れることが目標です。

詳しいモンスターの説明は下記のモンスターリストを参照してください。冒険の途中で新たな発見があるかもしれません。それでは、ダンジョンの探索をお楽しみください。

## モンスターのリスト

| モンスターの表示、名前 | 説明                                                                                                  |
| ---------------------- | ----------------------------------------------------------------------------------------------------- |
| a アメーバ             | 初めから倒せるほど弱い。レベルアップに有効                                                            |
| A アメーバ・レア       | 倒すと大きくレベルが上がる、珍しいアメーバ                                                            |
| b バイソン             | 2番目に弱い。倒すとたくさんの食料が得られる。お腹がすいたときは狩りましょう                           |
| B バイソン・レア       | 通常のバイソンよりもおいしい。たくさんの食料が得られます                                              |
| c キメラ               | そこそこ強い。剣を持っており、倒すと取得可能。剣を持つと、次の戦闘で戦闘力が2倍になります。壁も壊せる |
| C キメラ・レア         | 通常のキメラより強い、戦闘力3倍の剣を持っています                                                     |
| d コモドドラゴン       | 強い。倒すと多くの食料をくれるが、毒に侵され、次の戦闘では戦闘力が1/3になります                       |
| D ドラゴン             | 強い。倒すと宝箱の位置がわかります。倒さなくても宝箱を見分けられるようになります                      |
| e エレボス             | 戦うと生気を吸い取られてしまう                                                                        |
| f フェアリー           | 戦闘相手ではありません。接触するとプレイヤーに付いてきて、ささやかな恩恵をもたらします                |
| g ゴブリン             | 戦闘相手ではありません。接触するとプレイヤーについてきて、モンスターの種類を鑑定してくれます。        |
| h ヒッポグリフ         | 戦闘相手ではありません。接触するとプレイヤーが壁を取り超えられるようになります                        |

## ライセンス

ライセンスはBSD-2です。

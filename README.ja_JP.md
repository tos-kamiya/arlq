# ARLQ, another rogue-like quest game

ARLQ (Another Rogue-Like Quest) は、人間と ChatGPT が共同でコードとマニュアルを作成した実験的なローグライクゲームです。

* コードは、ゲームのおおまかな内容の記述をもとに ChatGPT で生成し、その後人間が細部を調整・改善しました。  
  * ChatGPT は、コード生成以外にも迷路生成アルゴリズムの作成や curses ライブラリの使い方の解説も担当しました。  
  * タイプヒントやコメントも ChatGPT によって生成されています。  
  * 新しいモンスターのアイデアにも ChatGPT が協力しています。  
* マニュアルは、人間がドラフトを作成し、後に ChatGPT と共に加筆・校正を行いました。

![](screenshot.png)

## インストール方法

以下のコマンドを実行してください:

```bash
pipx install git+https://github.com/tos-kamiya/arlq
```

インストールが完了すると、`arlq` コマンドが利用可能になります。

- オプション無しの場合は、Pygame のウィンドウでゲームが実行されます。  
- ゲームをより簡単にするには、`-T` オプション（視界が広がる）を使用します。  
- ゲームをより難しくするには、`-F` オプション（フィールドが大きくなる）または `-t` オプション（視界が狭くなる）を使用します。  
- `--curses` オプションを付けると、ターミナル上で curses を使用してゲームが実行されます。

`--curses` オプションを利用する場合は、別途 `curses` パッケージのインストールが必要です。

Ubuntu 24.04 の場合:

```bash
sudo apt install python3-curses
```

Windows の場合:

```bash
pip install windows-curses
```

## ゲームの説明

* **ゲームの目的**  
  毎回異なる通路を持つダンジョンを探索し、ドラゴンが隠した宝箱を見つけることが目的です。

* **プレイヤー**  
  プレイヤーは「@」のキャラクターを操作し、矢印キーで上下左右に移動します。

* **モンスターと同行者**  
  ダンジョン内には様々なモンスターと同行者が存在します。  
  - モンスターは初め「?」として表示されます。  
  - 同行者は初め「!」として表示され、接触すると各種類（例: `a`, `b`, `c` など）が明らかになります。

* **フォグシステム**  
  プレイヤーが歩いた場所のみが見えるフォグシステムを採用しており、オートマッピングと連動して、一度訪れたエリアは常に表示されます。

* **接触**  
  - **モンスター:**  
    プレイヤーがモンスターに接触すると戦闘が開始されます。  
    自分のレベル以下のモンスターなら倒してレベルアップし、持ち物を獲得できますが、より高いレベルのモンスターに敗れると、ダンジョン内のランダムな場所に再出現します。  
  - **同行者:**  
    プレイヤーが同行者に接触すると、同行者が付いてきて固有の能力でサポートします。  
    しばらくすると同行者はプレイヤーの元を離れます。  

  ※ モンスターや同行者は自ら動くことはなく、プレイヤーが近づくのを待っています。接触するか通り過ぎるかはプレイヤーの判断次第です。

* **レアタイプ**  
  一部のモンスターには、通常のものとは異なる特別な特徴を持つレアタイプが存在します。  
  例:  
  - `A`（レアアメーバ）：倒すと大幅にレベルアップします。  
  - `B`（レアバイソン）：通常のバイソンよりも多くの食料が得られます。

* **食料システム**  
  プレイヤーは移動するたびに食料が減少します。  
  食料がゼロになると飢えでゲームオーバーになるため、モンスターを倒してこまめに食料を補給する必要があります。

* **ゲームエンド**  
  宝箱（`T`）に接触するとゲームクリアとなります。ドラゴンが守る宝箱を手に入れることが目標です。

## モンスター一覧

| 表示・名前           | 説明                                                                                                               |
| -------------------- | ------------------------------------------------------------------------------------------------------------------ |
| **a** アメーバ           | 初めから倒せるほど弱く、レベルアップに有効。                                                                       |
| **A** レアアメーバ       | 倒すと大幅にレベルが上がる珍しいアメーバ。                                                                          |
| **b** バイソン           | 2番目に弱い。倒すとたくさんの食料が得られるので、お腹がすいたときに狩るのに適しています。                           |
| **B** レアバイソン       | 通常のバイソンよりもおいしく、より多くの食料を提供します。                                                         |
| **c** キメラ             | そこそこ強く、剣を持っており、倒すと剣を取得できます。剣を所持すると次の戦闘で戦闘力が2倍になり、壁も破壊可能です。 |
| **C** レアキメラ         | 通常のキメラよりも強力で、戦闘力が3倍になる剣を持っています。                                                      |
| **d** コモドドラゴン     | 強力なモンスター。倒すと多くの食料が得られますが、毒により次の戦闘で戦闘力が1/3に低下します。                         |
| **D** ドラゴン           | 非常に強く、倒すと宝箱の位置が明らかになります。倒さなくても宝箱の見分けが可能になります。                           |
| **e** エレボス           | 戦闘すると生命力が吸い取られてしまいます。                                                                         |
| **E** エルドリッチ       | 倒すには強すぎます。                                                                         |

## 同行者一覧

| 表示・名前         | 説明                                                                                           |
| ------------------ | ---------------------------------------------------------------------------------------------- |
| **f** フェアリー       | 視界を少し広げる効果があります。                          |
| **g** ゴブリン         | プレイヤーがモンスターの隣に来ると、そのモンスターの種類を判別してくれます。                    |
| **h** ヒッポグリフ     | 壁に衝突しそうな場合、ヒッポグリフが壁を乗り越えられるようにします。                    |

## ライセンス

本プロジェクトは BSD-2 ライセンスのもとで公開されています。
